<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <style>
      .container {
        max-width: 600px;
      }
    </style>

    <div class="container">
      <h2>Add student</h2>
      <form action="/action_page.php">
        <div class="form-group">
          <label for="firstname">First name:</label>
          <input
            type="text"
            class="form-control"
            id="firstname"
            placeholder="Enter first name"
            name="firstname"
          />
        </div>
        <div class="form-group">
          <label for="lastname">Last name:</label>
          <input
            type="text"
            class="form-control"
            id="lastname"
            placeholder="Enter last name"
            name="lastname"
          />
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Enter email"
            name="email"
          />
        </div>

        <button type="button" class="btn btn-default">Add</button>
      </form>

      <br />
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Firstname</th>
            <th>Lastname</th>
            <th>Email</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
    <script>
      let email_ = [];
      function add() {
        var firstname = $("#firstname").val();
        var lastname = $("#lastname").val();
        var email = $("#email").val();
        if (firstname === "" || lastname === "" || email === "") {
          alert("Please fill all the fields");
          return;
        }
        if (email_.findIndex((e) => e === email) !== -1) {
          alert("Email already exists");
          return;
        }
        email_.push(email);
        var row =
          "<tr><td>" +
          firstname +
          "</td><td>" +
          lastname +
          "</td><td>" +
          email +
          `</td><td><button onclick="deleteRow('${email}')">Delete</button></td></tr>`;
        $("tbody").append(row);
        $("#firstname").val("");
        $("#lastname").val("");
      }
      function deleteRow(email) {
        var index = email_.findIndex((e) => e === email);
        email_.splice(index, 1);
        $("tbody tr").eq(index).remove();
      }

      $(document).ready(function () {
        $("button").click(function () {
          add();
        });
      });
    </script>
  </body>
</html>
